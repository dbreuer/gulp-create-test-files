{"version":3,"sources":["tester.js"],"names":[],"mappings":";;;AAGA,YAAY,CAAC;;AAEb,IAAI,YAAY,GAAG,CAAC,YAAY;AAAE,aAAS,gBAAgB,CAAC,MAAM,EAAE,KAAK,EAAE;AAAE,aAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AAAE,gBAAI,UAAU,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,AAAC,UAAU,CAAC,UAAU,GAAG,UAAU,CAAC,UAAU,IAAI,KAAK,CAAC,AAAC,UAAU,CAAC,YAAY,GAAG,IAAI,CAAC,AAAC,IAAI,OAAO,IAAI,UAAU,EAAE,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC,AAAC,MAAM,CAAC,cAAc,CAAC,MAAM,EAAE,UAAU,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;SAAE;KAAE,AAAC,OAAO,UAAU,WAAW,EAAE,UAAU,EAAE,WAAW,EAAE;AAAE,YAAI,UAAU,EAAE,gBAAgB,CAAC,WAAW,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC,AAAC,IAAI,WAAW,EAAE,gBAAgB,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC,AAAC,OAAO,WAAW,CAAC;KAAE,CAAC;CAAE,CAAA,EAAG,CAAC;;AAEtjB,IAAI,OAAO,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAEhC,IAAI,QAAQ,GAAG,sBAAsB,CAAC,OAAO,CAAC,CAAC;;AAE/C,IAAI,SAAS,GAAG,OAAO,CAAC,WAAW,CAAC,CAAC;;AAErC,IAAI,UAAU,GAAG,sBAAsB,CAAC,SAAS,CAAC,CAAC;;AAEnD,IAAI,QAAQ,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;;AAEnC,IAAI,SAAS,GAAG,sBAAsB,CAAC,QAAQ,CAAC,CAAC;;AAEjD,IAAI,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;;AAExB,IAAI,IAAI,GAAG,sBAAsB,CAAC,GAAG,CAAC,CAAC;;AAEvC,IAAI,OAAO,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC;;AAEzC,IAAI,QAAQ,GAAG,sBAAsB,CAAC,OAAO,CAAC,CAAC;;AAE/C,SAAS,sBAAsB,CAAC,GAAG,EAAE;AAAE,WAAO,GAAG,IAAI,GAAG,CAAC,UAAU,GAAG,GAAG,GAAG,EAAE,OAAO,EAAE,GAAG,EAAE,CAAC;CAAE;;AAE/F,SAAS,eAAe,CAAC,QAAQ,EAAE,WAAW,EAAE;AAAE,QAAI,EAAE,QAAQ,YAAY,WAAW,CAAA,AAAC,EAAE;AAAE,cAAM,IAAI,SAAS,CAAC,mCAAmC,CAAC,CAAC;KAAE;CAAE;;;AAAA,AAGzJ,IAAI,YAAY,GAAG,UAAU,CAAC,OAAO,CAAC,WAAW,CAAC;;AAElD,IAAI,WAAW,GAAG,QAAQ,CAAC;;AAE3B,IAAI,MAAM,GAAG,CAAC,YAAY;AACtB,aAAS,MAAM,CAAC,OAAO,EAAE,KAAK,EAAE;AAC5B,uBAAe,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;;AAE9B,YAAI,CAAC,OAAO,GAAG,OAAO,CAAC;AACvB,YAAI,CAAC,KAAK,GAAG,KAAK,CAAC;KACtB;;AAED,gBAAY,CAAC,MAAM,EAAE,CAAC;AAClB,WAAG,EAAE,MAAM;AACX,aAAK,EAAE,SAAS,IAAI,GAAG;AACnB,gBAAI,UAAU,GAAG,EAAE,CAAC;;AAEpB,gBAAI,IAAI,GAAG,SAAS,IAAI,CAAC,GAAG,EAAE,WAAW,EAAE,IAAI,EAAE;AAC7C,oBAAI,OAAO,GAAG,EAAE,CAAC;;AAEjB,oBAAI,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,EAAE,UAAU,GAAG,EAAE,IAAI,EAAE;AAC3C,wBAAI,GAAG,EAAE,OAAO,IAAI,CAAC,GAAG,CAAC,CAAC;;AAE1B,wBAAI,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC;AAC1B,wBAAI,CAAC,OAAO,EAAE,OAAO,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;;AAEzC,wBAAI,CAAC,OAAO,CAAC,UAAU,IAAI,EAAE;AACzB,4BAAI,GAAG,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;;AAE5B,4BAAI,QAAQ,GAAG,KAAK,CAAC;AACrB,4BAAI,GAAG,GAAG,WAAW,CAAC,MAAM,CAAC;AAC7B,4BAAI,CAAC,GAAG,CAAC,CAAC;;AAEV,+BAAO,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;AACjB,gCAAI,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,EAAE;AAC5B,wCAAQ,GAAG,IAAI,CAAC;6BACnB;yBACJ;;;AAAA,AAGD,4BAAI,QAAQ,KAAK,KAAK,EAAE;AACpB,mCAAO,CAAC,IAAI,CAAC,IAAI,CAAC;;;AAAC,AAGnB,gCAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,GAAG,EAAE,IAAI,EAAE;AACzC,oCAAI,IAAI,IAAI,IAAI,CAAC,WAAW,EAAE,EAAE;;;AAG5B,wCAAI,CAAC,IAAI,EAAE,WAAW,EAAE,UAAU,GAAG,EAAE,GAAG,EAAE;AACxC,+CAAO,GAAG,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;;AAE9B,4CAAI,EAAE,EAAE,OAAO,EAAE;AACb,gDAAI,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;yCACvB;qCACJ,CAAC,CAAC;iCACN,MAAM;AACH,wCAAI,EAAE,EAAE,OAAO,EAAE;AACb,4CAAI,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;qCACvB;iCACJ;6BACJ,CAAC,CAAC;yBACN,MAAM;AACH,gCAAI,EAAE,EAAE,OAAO,EAAE;AACb,oCAAI,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;6BACvB;yBACJ;qBACJ,CAAC,CAAC;iBACN,CAAC,CAAC;aACN,CAAC;;AAEF,gBAAI,wBAAwB,GAAG,CAAC,UAAU,EAAE,MAAM,EAAE,MAAM,CAAC,CAAC;;AAE5D,gBAAI,WAAW,GAAG,CAAC,aAAa,EAAE,aAAa,EAAE,cAAc,CAAC,CAAC;;AAEjE,gBAAI,CAAC,IAAI,GAAG,OAAO,CAAC,GAAG,EAAE,WAAW,EAAE,UAAU,GAAG,EAAE,OAAO,EAAE;AAC1D,oBAAI,GAAG,EAAE;AACL,0BAAM,GAAG,CAAC;iBACb;AACD,oBAAI,QAAQ,GAAG,OAAO,CAAC,MAAM,CAAC,UAAU,IAAI,EAAE;;AAE1C,wBAAI,CAAC,GAAG,wBAAwB,CAAC,MAAM,CAAC;AACxC,2BAAO,CAAC,EAAE,EAAE;AACR,4BAAI,GAAG,GAAG,IAAI,MAAM,CAAC,wBAAwB,CAAC,CAAC,CAAC,GAAG,MAAM,EAAE,IAAI,CAAC,CAAC;AACjE,4BAAI,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;AAChB,mCAAO,KAAK,CAAC;yBAChB;qBACJ;AACD,2BAAQ,UAAS,CAAC,IAAI,CAAC,IAAI,CAAC;sBAC1B;iBACL,CAAC,CAAC;aACN,CAAC,CAAC;;AAEH,qBAAS,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,IAAI,EAAE,GAAG,EAAE,EAAE,EAAE;;;;AAI3C,oBAAI,IAAI,CAAC,MAAM,EAAE,EAAE;AACf,2BAAO,EAAE,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;iBACzB;AACD,oBAAI,IAAI,CAAC,QAAQ,EAAE,EAAE;AACjB,wBAAI,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,WAAW,CAAC,WAAW,EAAE,4BAA4B,CAAC,CAAC,CAAC;AAC/E,2BAAO,EAAE,EAAE,CAAC;iBACf;AACD,oBAAI,IAAI,CAAC,QAAQ,EAAE,EAAE;;AAEjB,wBAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE;AACnC,+BAAO,CAAC,GAAG,CAAC,UAAU,EAAE,kBAAkB,EAAE,kBAAkB,CAAC,CAAC;AAChE,+BAAO,EAAE,EAAE,CAAC;qBACf;;AAED,wBAAI,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;AAChC,+BAAO,CAAC,GAAG,CAAC,UAAU,EAAE,eAAe,EAAE,kBAAkB,CAAC,CAAC;AAC7D,+BAAO,EAAE,EAAE,CAAC;qBACf;;AAED,2BAAO,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC;;;;;;;;;AAAC,AASvB,wBAAI,KAAK,GAAG,QAAQ,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AAC5D,wBAAI,cAAc,GAAG,QAAQ,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AACrE,wBAAI,aAAa,GAAG,SAAS,CAAC;;AAE9B,wBAAI,GAAG,GAAG;AACN,4BAAI,EAAE,IAAI,IAAI,EAAE;AAChB,4BAAI,EAAE,IAAI;AACV,gCAAQ,EAAE,IAAI;AACd,8BAAM,EAAE,IAAI,CAAC,aAAa,GAAG,GAAG,GAAG,QAAQ,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,OAAO,CAAA,CAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;AACxH,kCAAU,EAAE,IAAI;AAChB,qCAAa,EAAE,IAAI;AACnB,4BAAI,EAAE,IAAI,CAAC,IAAI;AACf,gCAAQ,EAAE,CAAC,CAAC,EAAE,QAAQ,CAAC,OAAO,CAAA,CAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,EAAE;AAC5D,+BAAO,EAAE,MAAM;AACf,4BAAI,EAAE,QAAQ,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,OAAO,CAAA,CAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;AAC3F,uCAAe,EAAE,QAAQ,CAAC,OAAO,CAAC,UAAU,CAAC,QAAQ,CAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC,CAAC,EAAE,QAAQ,CAAC,OAAO,CAAA,CAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;qBACtI,CAAC;AACF,2BAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AACtB,wBAAI,KAAK,EAAE;AACP,2BAAG,CAAC,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;AACpB,2BAAG,CAAC,QAAQ,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC;AACxB,qCAAa,GAAG,QAAQ,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC;qBACrD;;AAED,wBAAI,GAAG,CAAC,IAAI,KAAK,WAAW,EAAE;AAC1B,2BAAG,CAAC,aAAa,GAAG,QAAQ,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;qBAChE;;AAED,wBAAI,cAAc,KAAK,IAAI,EAAE;AACzB,2BAAG,CAAC,OAAO,GAAG,cAAc,CAAC;qBAChC;;AAED,wBAAI,GAAG,CAAC,IAAI,KAAK,SAAS,IAAI,SAAS,EAAE;AACrC,2BAAG,CAAC,QAAQ,GAAG,aAAa,CAAC;qBAChC;;AAED,uBAAG,CAAC,MAAM,GAAG,QAAQ,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC;;;;;AAAC,AAKzD,8BAAU,GAAG;AACT,8BAAM,EAAE,QAAQ,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,CAAC;AACrD,kCAAU,EAAE,QAAQ,CAAC,OAAO,CAAC,sBAAsB,CAAC,IAAI,CAAC,QAAQ,CAAC;AAClE,iCAAS,EAAE,QAAQ,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC;AAC1D,iCAAS,EAAE,QAAQ,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,QAAQ,CAAC;AAC1D,6BAAK,EAAE,QAAQ,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC;AAClD,gCAAQ,EAAE,QAAQ,CAAC,OAAO,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC;qBAC3D,CAAC;;AAEF,wBAAI,CAAC,OAAO,CAAC,SAAS,CAAC,cAAc,EAAE,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,EAAE,MAAM,EAAE,UAAU,QAAQ,EAAE;AAC3F,+BAAO,CAAC,GAAG,CAAC,aAAa,EAAE,QAAQ,CAAC,CAAC;qBACxC,CAAC,CAAC;AACH,wBAAI,YAAY,GAAG,GAAG,CAAC,IAAI,KAAK,KAAK,CAAC,GAAG,UAAU,GAAG,GAAG,CAAC,IAAI,GAAG,OAAO,GAAG,qBAAqB,CAAC;AACjG,wBAAI,WAAW,GAAG,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,SAAS,GAAG,aAAa,GAAG,YAAY,EAAE,MAAM,CAAC,CAAC,CAAC;;AAEtG,wBAAI,QAAQ,GAAG,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC;;AAEtD,wBAAI,CAAC,QAAQ,GAAG,IAAI,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC;;AAE1C,wBAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,CAAC;AAAC,AACrE,2BAAO,CAAC,GAAG,CAAC,sBAAsB,EAAE,CAAC,CAAC,EAAE,QAAQ,CAAC,OAAO,CAAA,CAAE,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;iBAC3F;;AAED,kBAAE,CAAC,IAAI,EAAE,IAAI,CAAC;;AAAC,aAElB,CAAC,CAAC;SACN;KACJ,CAAC,CAAC,CAAC;;AAEJ,WAAO,MAAM,CAAC;CACjB,CAAA,EAAG,CAAC;;AAEL,MAAM,CAAC,OAAO,GAAG,IAAI,MAAM,EAAE,CAAC","file":"tester-compiled.js","sourcesContent":["/**\n * Created by dbreuer83 on 13/11/15.\n */\n'use strict';\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nvar _lodash = require(\"lodash\");\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _gulpUtil = require(\"gulp-util\");\n\nvar _gulpUtil2 = _interopRequireDefault(_gulpUtil);\n\nvar _through = require(\"through2\");\n\nvar _through2 = _interopRequireDefault(_through);\n\nvar _fs = require(\"fs\");\n\nvar _fs2 = _interopRequireDefault(_fs);\n\nvar _helper = require(\"./src/helper.js\");\n\nvar _helper2 = _interopRequireDefault(_helper);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// Consts\nvar PLUGIN_ERROR = _gulpUtil2.default.PluginError;\n\nvar PLUGIN_NAME = 'episto';\n\nvar EPISTO = (function () {\n    function EPISTO(options, files) {\n        _classCallCheck(this, EPISTO);\n\n        this.options = options;\n        this.files = files;\n    }\n\n    _createClass(EPISTO, [{\n        key: \"init\",\n        value: function init() {\n            var testObject = {};\n\n            var walk = function walk(dir, regExcludes, done) {\n                var results = [];\n\n                _fs2.default.readdir(dir, function (err, list) {\n                    if (err) return done(err);\n\n                    var pending = list.length;\n                    if (!pending) return done(null, results);\n\n                    list.forEach(function (file) {\n                        file = path.join(dir, file);\n\n                        var excluded = false;\n                        var len = regExcludes.length;\n                        var i = 0;\n\n                        for (; i < len; i++) {\n                            if (file.match(regExcludes[i])) {\n                                excluded = true;\n                            }\n                        }\n\n                        // Add if not in regExcludes\n                        if (excluded === false) {\n                            results.push(file);\n\n                            // Check if its a folder\n                            _fs2.default.stat(file, function (err, stat) {\n                                if (stat && stat.isDirectory()) {\n\n                                    // If it is, walk again\n                                    walk(file, regExcludes, function (err, res) {\n                                        results = results.concat(res);\n\n                                        if (! --pending) {\n                                            done(null, results);\n                                        }\n                                    });\n                                } else {\n                                    if (! --pending) {\n                                        done(null, results);\n                                    }\n                                }\n                            });\n                        } else {\n                            if (! --pending) {\n                                done(null, results);\n                            }\n                        }\n                    });\n                });\n            };\n\n            var execludeTestFilePatterns = ['compiled', 'spec', 'test'];\n\n            var regExcludes = [/index\\.html/, /js\\/lib\\.js/, /node_modules/];\n\n            walk('./' + options.cwd, regExcludes, function (err, results) {\n                if (err) {\n                    throw err;\n                }\n                var filtered = results.filter(function (file) {\n                    //execlude array\n                    var e = execludeTestFilePatterns.length;\n                    while (e--) {\n                        var reg = new RegExp(execludeTestFilePatterns[e] + '.js$', 'gi');\n                        if (reg.test(file)) {\n                            return false;\n                        }\n                    }\n                    return (/\\.js$/ig.test(file)\n                    );\n                });\n            });\n\n            _through2.default.obj(function (file, enc, cb) {\n\n                //options.testFileSuffix = new Buffer(options.testFileSuffix);\n\n                if (file.isNull()) {\n                    return cb(null, file);\n                }\n                if (file.isStream()) {\n                    this.emit('error', new PluginError(PLUGIN_NAME, 'Streams are not supported!'));\n                    return cb();\n                }\n                if (file.isBuffer()) {\n\n                    if (!_helper2.default.isAngular(file)) {\n                        console.log('Skipped:', 'not angular file', \"File not created\");\n                        return cb();\n                    }\n\n                    if (_helper2.default.hasTest(file)) {\n                        console.log('Skipped:', 'has test file', \"File not created\");\n                        return cb();\n                    }\n\n                    console.log(file.path);\n\n                    // Comments match regexp\n                    // patternForComments= /((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/mg\n                    /**\n                     * module type regex\n                     * @type {RegExp}\n                     */\n\n                    var match = _helper2.default.getAllProviders(file.contents);\n                    var matchFunctions = _helper2.default.getAllFunctions(file.contents);\n                    var matchServices = undefined;\n\n                    var opt = {\n                        date: new Date(),\n                        type: null,\n                        typeName: null,\n                        module: opts.projectPrefix + '.' + _helper2.default.truncateJsSuffix((0, _lodash2.default)(file.path.split('/')).last()),\n                        dependency: null,\n                        directiveName: null,\n                        path: file.path,\n                        filename: (0, _lodash2.default)(file.path.split('/')).last(),\n                        amdPath: 'namm',\n                        name: _helper2.default.truncateJsSuffix((0, _lodash2.default)(file.path.split('/')).last()),\n                        capitalizedName: _helper2.default.capitalize(_helper2.default.truncateJsSuffix((0, _lodash2.default)(file.path.split('/')).last()))\n                    };\n                    console.log(match[0]);\n                    if (match) {\n                        opt.type = match[1];\n                        opt.typeName = match[2];\n                        matchServices = _helper2.default.getAllServices();\n                    }\n\n                    if (opt.type === 'directive') {\n                        opt.directiveName = _helper2.default.dasherize(opt.typeName);\n                    }\n\n                    if (matchFunctions !== null) {\n                        opt.funcObj = matchFunctions;\n                    }\n\n                    if (opt.type === 'service' || 'factory') {\n                        opt.services = matchServices;\n                    }\n\n                    opt.caches = _helper2.default.getAllCache(file.contents);\n                    /**\n                     *\n                     * @type {{functions: *}}\n                     */\n                    testObject = {\n                        module: _helper2.default.getAllModules(file.contents),\n                        dependency: _helper2.default.getAllModuleDependency(file.contents),\n                        providers: _helper2.default.getAllProviders(file.contents),\n                        functions: _helper2.default.getAllFunctions(file.contents),\n                        cache: _helper2.default.getAllCache(file.contents),\n                        services: _helper2.default.getAllServices(file.contents)\n                    };\n\n                    _fs2.default.writeFile('message.json', JSON.stringify(testObject), 'utf8', function (response) {\n                        console.log(\"Test file: \", response);\n                    });\n                    var templateFile = opt.type === void 0 ? 'angular.' + opt.type + '.temp' : 'angular.module.temp';\n                    var fileContent = String(_fs2.default.readFileSync(__dirname + \"/templates/\" + templateFile, \"utf8\"));\n\n                    var compiled = _lodash2.default.template(fileContent);\n\n                    file.contents = new Buffer(compiled(opt));\n\n                    file.path = _helper2.default.replaceExtension(file.path, '.spec.js'); // file.js\n                    console.log('Created test files: ', (0, _lodash2.default)(file.path.split('/')).last());\n                }\n\n                cb(null, file);\n                //cb(null);\n            });\n        }\n    }]);\n\n    return EPISTO;\n})();\n\nmodule.exports = new EPISTO();\n"]}