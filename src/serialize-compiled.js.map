{"version":3,"sources":["serialize.js"],"names":[],"mappings":";;;;;;;;AAQA,YAAY,CAAC;;AAEb,IAAI,CAAC,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;;AAE1B,IAAI,MAAM,GAAG,OAAO,CAAC,UAAU,CAAC;;;;AAAC,AAIjC,MAAM,CAAC,OAAO,GAAG,SAAS;;;;AAAC,AAI3B,SAAS,SAAS,CAAC,IAAI,EAAE;;AAErB,QAAI,IAAI,GAAG;AACP,YAAI,EAAE,IAAI;KACb,CAAC;;AAEF,QAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;AACtB,QAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;AAE9B,QAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;;AAE/B,QAAI,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,OAAO,EAAE;;;AAG5C,YAAI,GAAG,GAAG,CAAC,CAAC,KAAK,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC;;AAE/B,WAAG,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;;AAE5B,WAAG,CAAC,OAAO,GAAG,YAAY;AACtB,mBAAO,IAAI,CAAC,IAAI,CAAC;SACpB,CAAC;;AAEF,eAAO,GAAG,CAAC;KACd,CAAC,CAAC;;AAEH,QAAI,CAAC,GAAG,GAAG,EAAE,CAAC;AACd,QAAI,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;AAC3C,QAAI,CAAC,GAAG,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,GAAG,EAAE;AAC9C,eAAO,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;KACzB,CAAC,CAAC;;AAEH,QAAI,CAAC,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC,WAAW,EAAE,gBAAgB,CAAC,CAAC,CAAC;;AAErE,WAAO,IAAI,CAAC;CACf;;;;AAAA,AAID,SAAS,IAAI,CAAC,MAAM,EAAE,OAAO,EAAE;AAC3B,WAAO,GAAG,OAAO,IAAI,GAAG,CAAC;AACzB,WAAO,OAAO,GAAG,MAAM,GAAG,OAAO,CAAC;CACrC","file":"serialize-compiled.js","sourcesContent":["//serialize.js\n/**\n * Created by David Breuer on 15/12/15.\n *\n * @file serialize.js\n * @description\n *\n */\n'use strict';\n\nvar _ = require('lodash');\n\nvar config = require('./config');\n\n////////\n\nmodule.exports = serialize;\n\n////////\n\nfunction serialize(unit) {\n\n    var data = {\n        unit: unit\n    };\n\n    data.name = unit.name;\n    data._name_ = wrap(unit.name);\n\n    data.module = unit.module.name;\n\n    data.deps = _.map(unit.deps, function (unitDep) {\n\n        // copy not to modify dep in unit\n        var dep = _.merge({}, unitDep);\n\n        dep._name_ = wrap(dep.name);\n\n        dep.partial = function () {\n            return this.type;\n        };\n\n        return dep;\n    });\n\n    data.arg = {};\n    data.arg.deps = _.pluck(unit.deps, 'name');\n    data.arg._deps_ = _.map(unit.deps, function (dep) {\n        return wrap(dep.name);\n    });\n\n    data.opts = _.pick(config.template, ['useStrict', 'includeSamples']);\n\n    return data;\n}\n\n////////\n\nfunction wrap(string, wrapper) {\n    wrapper = wrapper || '_';\n    return wrapper + string + wrapper;\n}\n"]}